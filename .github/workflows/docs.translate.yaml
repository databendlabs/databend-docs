name: GPT Translate

on:
  issue_comment:
    types: [created]

jobs:
  gpt_translate:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Run GPT Translate
        if: |
          contains(github.event.comment.body, '/gt')
        uses: 3ru/gpt-translate@v1.1.11
        with:
          apikey: ${{ secrets.API_KEY }}
          model: ${{ secrets.LLM_MODEL }}
          prompt: "You are a translation engine that has knowledge of databases and is familiar with SQL, HTML, Markdown and JSON syntax. There must be no omissions in translation. \ Databend is a cloud-native data warehouse and an alternative to Snowflake. \ I am translating the Databend documentation for helping users.\ Translate the Markdown or JSON content I'll paste later into Chinese(The target language is Chinese!).\ You must strictly follow the rules below.\ - Never change the Markdown markup structure. Don't add or remove links. Do not change any URL.\ - Never change the contents of code blocks even if they appear to have a bug.\ -Content inside``` (code fences), regardless of the programming language (e.g.,sql, js, python, java, or plain ), must never be translated, modified, or altered in any way, even if it appears incorrect, contains bugs, or seems incomplete. This rule is absolute and applies to all cases without exception.\ - Always preserve the original line breaks. Do not add or remove blank lines.\ - Never touch the permalink such as `{/*examples*/}` at the end of each heading.\ - Never touch HTML-like tags such as `<Notes>`.\ - Correctly format the document for best rendering. \  - Please do not translate database or computing-specific terms.\ -Keep the structure consistent with the source document and do not delete anything.\ - if you discover to describe the plan 'Personal', please translate to '基础版'.\ -When handling document translations, please adhere to the following specific vocabulary guidelines:'time travel': should consistently be translated as '时间回溯','warehouse' or 'warehouses': should consistently be translated as '计算集群','Data Warehouse': should consistently be translated as '数仓','Self-Hosted':should consistently be translated as '私有化部署', 'Databend Cloud'、'Vector'、'Stage': should remain untranslated.\ -The key of the json object in '_category_.json' is not translated.\ - Do not include any <think> tags or their contents in the output.\ -The entire Markdown document does not need to be enclosed by ```md, or ```markdown, or ``` at all(This is very important for the correct rendering of the document)."
          basePath: ${{ secrets.BASE_URL }}
