---
title: SQL 方言与一致性
---

本页详细介绍了 Databend 支持的 SQL 方言及其与 SQL 标准的符合性，特别是重点关注 SQL:2011 特性和 Databend 中的支持状态。

## 支持的 SQL 方言

SQL 方言指的是结构化查询语言的特定变体或风格。Databend 默认支持 `PostgreSQL` 方言，并提供切换到其他支持方言的灵活性。请参阅下表了解支持的方言及其各自的简要描述：

| 方言          | 介绍                                                                                    | 了解更多                   |
|---------------|-------------------------------------------------------------------------------------------------|------------------------------|
| `PostgreSQL`  | 默认支持的方言，企业中常用                                          | https://www.postgresql.org/  |
| `MySQL`       | 开源数据库管理系统                                                          | https://www.mysql.com/       |
| `Hive`        | 大数据处理的数据仓库                                                          | https://hive.apache.org/     |
| `Prql`        | PRQL 是一种用于转换数据的现代语言 — 一种简单、强大、管道化的 SQL 替代方案 | https://github.com/PRQL/prql |
| `Experimental`| 用于测试和研究的实验性方言                                                   | N/A                          |

要切换支持的 SQL 方言或显示当前方言，请使用 `sql_dialect` 设置：

```sql title='示例：'
-- 将 SQL 方言设置为 PRQL
SET sql_dialect = 'Prql';

-- 显示当前方言
SHOW SETTINGS LIKE 'sql_dialect';
```

## SQL 一致性概述

Databend 旨在符合 SQL 标准，特别是支持 ISO/IEC 9075:2011，也称为 SQL:2011。虽然这不是符合性的详尽声明，但 Databend 包含了 SQL 标准所需的许多特性，通常在语法或函数上略有不同。本页概述了 Databend 与 SQL:2011 标准的符合性水平。

| 功能ID 	|                                                       功能名称                                                       	| 支持情况 	|                                                     备注                                                     	|
|:----------:	|:------------------------------------------------------------------------------------------------------------------------:	|:----------:	|:------------------------------------------------------------------------------------------------------------:	|
| **E011**   	| **数值数据类型**                                                                                                   	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-01    	| INTEGER 和 SMALLINT 数据类型                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-02    	| REAL, DOUBLE PRECISION 和 FLOAT 数据类型                                                                              	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-03    	| DECIMAL 和 NUMERIC 数据类型                                                                                           	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-04    	| 算术运算符                                                                                                     	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-05    	| 数值比较                                                                                                       	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E011-06    	| 数值数据类型之间的隐式类型转换                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E021**   	| **字符串类型**                                                                                               	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E021-01    	| CHARACTER 数据类型                                                                                                      	| <span class="text-red">否</span>         	| 不支持固定长度字符串类型                                                                       	|
| E021-02    	| CHARACTER VARYING 数据类型                                                                                              	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-03    	| 字符字面量                                                                                                       	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-04    	| CHARACTER_LENGTH 函数                                                                                                	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-05    	| OCTET_LENGTH 函数                                                                                                    	| <span class="text-red">是</span>         	|                                                                                                              	|
| E021-06    	| SUBSTRING                                                                                                                	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-07    	| 字符串连接                                                                                                  	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-08    	| UPPER 和 LOWER 函数                                                                                                	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-09    	| TRIM 函数                                                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-10    	| 固定长度和可变长度字符串类型之间的隐式类型转换                                       	| <span class="text-red">否</span>         	| 不支持固定长度字符串类型                                                                       	|
| E021-11    	| POSITION 函数                                                                                                        	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E021-12    	| 字符比较                                                                                                     	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E031**   	| **标识符**                                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E031-01    	| 带分隔符的标识符                                                                                                    	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E031-02    	| 小写标识符                                                                                                   	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E031-03    	| 尾部下划线                                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E051**   	| **基本查询规范**                                                                                            	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E051-01    	| SELECT DISTINCT                                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-02    	| GROUP BY 子句                                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-04    	| GROUP BY 可以包含不在 SELECT 列表中的列                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-05    	| 选择项可以重命名                                                                                              	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-06    	| HAVING 子句                                                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-07    	| 选择列表中的限定 *                                                                                               	| <span class="text-red">否</span>         	|                                                                                                              	|
| E051-08    	| FROM 子句中的相关名称                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E051-09    	| FROM 子句中重命名列                                                                                        	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E061**   	| **基本谓词和搜索条件**                                                                               	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E061-01    	| 比较谓词                                                                                                     	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-02    	| BETWEEN 谓词                                                                                                        	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-03    	| IN 谓词与值列表                                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-04    	| LIKE 谓词                                                                                                           	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-05    	| LIKE 谓词：ESCAPE 子句                                                                                            	| <span class="text-red">否</span>         	|                                                                                                              	|
| E061-06    	| NULL 谓词                                                                                                           	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-07    	| 量词比较谓词                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-08    	| EXISTS 谓词                                                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-09    	| 比较谓词中的子查询                                                                                       	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-11    	| IN 谓词中的子查询                                                                                               	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-12    	| 量词比较谓词中的子查询                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-13    	| 相关子查询                                                                                                    	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E061-14    	| 搜索条件                                                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E071**   	| **基本查询表达式**                                                                                              	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E071-01    	| UNION DISTINCT 表运算符                                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E071-02    	| UNION ALL 表运算符                                                                                                 	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E071-03    	| EXCEPT DISTINCT 表运算符                                                                                           	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E071-05    	| 通过表运算符组合的列不需要具有完全相同的数据类型                                            	| <span class="text-orange">部分</span>    	| 只有数据类型可以隐式强制转换的列才允许通过表运算符组合。 	|
| E071-06    	| 子查询中的表运算符                                                                                            	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E081**   	| **基本权限**                                                                                                     	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E081-01    	| 表级别的 SELECT 权限                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E081-02    	| DELETE 权限                                                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E081-03    	| 表级别的 INSERT 权限                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E081-04    	| 表级别的 UPDATE 权限                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E081-05    	| 列级别的 UPDATE 权限                                                                                     	| <span class="text-red">否</span>         	|                                                                                                              	|
| E081-06    	| 表级别的 REFERENCES 权限                                                                                  	| <span class="text-red">否</span>         	|                                                                                                              	|
| E081-07    	| 列级别的 REFERENCES 权限                                                                                 	| <span class="text-red">否</span>         	|                                                                                                              	|
| E081-08    	| WITH GRANT OPTION                                                                                                        	| <span class="text-red">否</span>         	|                                                                                                              	|
| E081-09    	| USAGE 权限                                                                                                          	| <span class="text-red">否</span>         	|                                                                                                              	|
| E081-10    	| EXECUTE 权限                                                                                                        	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E091**   	| **集合函数**                                                                                                        	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-01    	| AVG                                                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-02    	| COUNT                                                                                                                    	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-03    	| MAX                                                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-04    	| MIN                                                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-05    	| SUM                                                                                                                      	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-06    	| ALL 量词                                                                                                           	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E091-07    	| DISTINCT 量词                                                                                                      	| <span class="text-orange">部分</span>    	| 目前，Databend 支持 COUNT(DISTINCT ...) 和 SELECT DISTINCT ... 查询。                            	|
| **E101**   	| **基本数据操作**                                                                                              	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E101-01    	| INSERT 语句                                                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E101-03    	| 搜索 UPDATE 语句                                                                                                	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E101-04    	| 搜索 DELETE 语句                                                                                                	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E111**   	| **单行 SELECT 语句**                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E121**   	| **基本游标支持**                                                                                                 	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E121-01    	| DECLARE CURSOR                                                                                                           	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-02    	| ORDER BY 列不需要在选择列表中                                                                              	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E121-03    	| ORDER BY 子句中的值表达式                                                                                     	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E121-04    	| OPEN 语句                                                                                                           	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-06    	| 定位 UPDATE 语句                                                                                              	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-07    	| 定位 DELETE 语句                                                                                              	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-08    	| CLOSE 语句                                                                                                          	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-10    	| FETCH 语句：隐式 NEXT                                                                                           	| <span class="text-red">否</span>         	|                                                                                                              	|
| E121-17    	| WITH HOLD 游标                                                                                                        	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E131**   	| **空值支持（用空值代替值）**                                                                         	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E141**   	| **基本完整性约束**                                                                                          	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-01    	| NOT NULL 约束                                                                                                     	| <span class="text-blue">是</span>        	| Databend 默认：所有列都可为空。                                                	|
| E141-02    	| NOT NULL 列的 UNIQUE 约束                                                                                    	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-03    	| PRIMARY KEY 约束                                                                                                  	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-04    	| 基本 FOREIGN KEY 约束，默认对引用删除和更新操作为 NO ACTION 	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-06    	| CHECK 约束                                                                                                         	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-07    	| 列默认值                                                                                                          	| <span class="text-blue">是</span>        	|                                                                                                              	|
| E141-08    	| PRIMARY KEY 推断 NOT NULL                                                                                         	| <span class="text-red">否</span>         	|                                                                                                              	|
| E141-10    	| 外键中的名称可以按任意顺序指定                                                                     	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E151**   	| **事务支持**                                                                                                  	| <span class="text-orange">部分</span>    	|                                                                                                              	|
| E151-01    	| COMMIT 语句                                                                                                         	| <span class="text-orange">部分</span>    	| Databend 仅支持每个 DML 语句的隐式事务。                             	|
| E151-02    	| ROLLBACK 语句                                                                                                       	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E152**   	| **基本 SET TRANSACTION 语句**                                                                                      	| <span class="text-red">否</span>         	|                                                                                                              	|
| E152-01    	| SET TRANSACTION 语句：ISOLATION LEVEL SERIALIZABLE 子句                                                           	| <span class="text-red">否</span>         	|                                                                                                              	|
| E152-02    	| SET TRANSACTION 语句：READ ONLY 和 READ WRITE 子句                                                              	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E153**   	| **带有子查询的可更新查询**                                                                                    	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E161**   	| **使用前导双减号的 SQL 注释**                                                                              	| <span class="text-blue">是</span>        	|                                                                                                              	|
| **E171**   	| **SQLSTATE 支持**                                                                                                     	| <span class="text-red">否</span>         	|                                                                                                              	|
| **E182**   	| **宿主语言绑定**                                                                                                	| <span class="text-red">否</span>         	|                                                                                                              	|
| **F031**   	| **基本模式操作**                                                                                            	| <span