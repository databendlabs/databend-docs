---
title: SQL 方言 & 兼容性
---

本页详细介绍了 Databend 支持的 SQL 方言，以及它与 SQL 标准的兼容性，特别是关注 SQL:2011 的特性以及它们在 Databend 中的支持状态。

## 支持的 SQL 方言

SQL 方言指的是结构化查询语言的特定变体或风格。Databend 默认支持 `PostgreSQL` 方言，并提供切换到其他支持方言的灵活性。请参考下表，了解支持的方言及其各自的简要描述：

| 方言          | 介绍                                                                                          | 了解更多                     |
|---------------|-----------------------------------------------------------------------------------------------|------------------------------|
| `PostgreSQL`  | 企业中常用的默认支持方言                                                                                | https://www.postgresql.org/  |
| `MySQL`       | 开源数据库管理系统                                                                                      | https://www.mysql.com/       |
| `Hive`        | 用于大数据处理的数仓                                                                                    | https://hive.apache.org/     |
| `Prql`        | PRQL 是一种用于转换数据的现代语言——一种简单、强大、流水线的 SQL 替代品                                              | https://github.com/PRQL/prql |
| `Experimental`| 用于测试和研究的实验性方言                                                                                  | N/A                          |

要切换支持的 SQL 方言或显示当前的方言，请使用 `sql_dialect` 设置：

```sql title='示例:'
-- 将 SQL 方言设置为 PRQL
SET sql_dialect = 'Prql';

-- 显示当前方言
SHOW SETTINGS LIKE 'sql_dialect';
```

## SQL 兼容性摘要

Databend 旨在符合 SQL 标准，特别支持 ISO/IEC 9075:2011，也称为 SQL:2011。虽然不是一个详尽的兼容性声明，但 Databend 包含了 SQL 标准要求的许多特性，通常在语法或功能上略有差异。本页概述了 Databend 与 SQL:2011 标准的兼容程度。


| Feature ID 	|                                                       Feature Name                                                       	| Supported? 	|                                                     Note                                                     	|
|:----------:	|:------------------------------------------------------------------------------------------------------------------------:	|:----------:	|:--------------------------------------------------------------------------------------------:	|
| **E011**   	| **数值数据类型**                                                                                                   	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-01    	| INTEGER 和 SMALLINT 数据类型                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-02    	| REAL, DOUBLE PRECISION 和 FLOAT 数据类型                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-03    	| DECIMAL 和 NUMERIC 数据类型                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-04    	| 算术运算符                                                                                                     	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-05    	| 数值比较                                                                                                       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E011-06    	| 数值数据类型之间的隐式转换                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E021**   	| **字符串类型**                                                                                               	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E021-01    	| CHARACTER 数据类型                                                                                                      	| <span class="text-red">No</span>         	| 不支持固定长度字符串类型                                                                       	|
| E021-02    	| CHARACTER VARYING 数据类型                                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-03    	| 字符串字面量                                                                                                       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-04    	| CHARACTER_LENGTH 函数                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-05    	| OCTET_LENGTH 函数                                                                                                    	| <span class="text-red">Yes</span>         	|                                                                                                              	|
| E021-06    	| SUBSTRING                                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-07    	| 字符串连接                                                                                                  	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-08    	| UPPER 和 LOWER 函数                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-09    	| TRIM 函数                                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-10    	| 固定长度和可变长度字符串类型之间的隐式转换                                       	| <span class="text-red">No</span>         	| 不支持固定长度字符串类型                                                                       	|
| E021-11    	| POSITION 函数                                                                                                        	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E021-12    	| 字符串比较                                                                                                     	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E031**   	| **标识符**                                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E031-01    	| 分隔标识符                                                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E031-02    	| 小写标识符                                                                                                   	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E031-03    	| 尾随下划线                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E051**   	| **基本查询规范**                                                                                            	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E051-01    	| SELECT DISTINCT                                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-02    	| GROUP BY 子句                                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-04    	| GROUP BY 可以包含不在 SELECT 列表中的列                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-05    	| 可以重命名选择项                                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-06    	| HAVING 子句                                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-07    	| 限定 * 在选择列表中                                                                                               	| <span class="text-red">No</span>         	|                                                                                                              	|
| E051-08    	| FROM 子句中的相关名称                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E051-09    	| 重命名 FROM 子句中的列                                                                                        	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E061**   	| **基本谓词和搜索条件**                                                                               	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E061-01    	| 比较谓词                                                                                                     	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-02    	| BETWEEN 谓词                                                                                                        	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-03    	| 带有值列表的 IN 谓词                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-04    	| LIKE 谓词                                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-05    	| LIKE 谓词: ESCAPE 子句                                                                                            	| <span class="text-red">No</span>         	|                                                                                                              	|
| E061-06    	| NULL 谓词                                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-07    	| 量化比较谓词                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-08    	| EXISTS 谓词                                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-09    	| 比较谓词中的子查询                                                                                       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-11    	| IN 谓词中的子查询                                                                                               	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-12    	| 量化比较谓词中的子查询                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-13    	| 相关子查询                                                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E061-14    	| 搜索条件                                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E071**   	| **基本查询表达式**                                                                                              	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E071-01    	| UNION DISTINCT 表运算符                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E071-02    	| UNION ALL 表运算符                                                                                                 	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E071-03    	| EXCEPT DISTINCT 表运算符                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E071-05    	| 通过表运算符组合的列不需要具有完全相同的数据类型                                            	| <span class="text-orange">Partial</span>    	| 只有具有可以隐式强制转换的数据类型的列才允许与表运算符组合。 	|
| E071-06    	| 子查询中的表运算符                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E081**   	| **基本权限**                                                                                                     	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E081-01    	| 表级别的 SELECT 权限                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E081-02    	| DELETE 权限                                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E081-03    	| 表级别的 INSERT 权限                                                                                             	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E081-04    	| 表级别的 UPDATE 权限                                                                                             	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E081-05    	| 列级别的 UPDATE 权限                                                                                     	| <span class="text-red">No</span>         	|                                                                                                              	|
| E081-06    	| 表级别的 REFERENCES 权限                                                                                  	| <span class="text-red">No</span>         	|                                                                                                              	|
| E081-07    	| 列级别的 REFERENCES 权限                                                                                 	| <span class="text-red">No</span>         	|                                                                                                              	|
| E081-08    	| WITH GRANT OPTION                                                                                                        	| <span class="text-red">No</span>         	|                                                                                                              	|
| E081-09    	| USAGE 权限                                                                                                          	| <span class="text-red">No</span>         	|                                                                                                              	|
| E081-10    	| EXECUTE 权限                                                                                                          	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E091**   	| **集合函数**                                                                                                        	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-01    	| AVG                                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-02    	| COUNT                                                                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-03    	| MAX                                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-04    	| MIN                                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-05    	| SUM                                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-06    	| ALL 量词                                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E091-07    	| DISTINCT 量词                                                                                                      	| <span class="text-orange">Partial</span>    	| 目前，Databend 支持 COUNT(DISTINCT ...) 和 SELECT DISTINCT ... 查询。                            	|
| **E101**   	| **基本数据操作**                                                                                              	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E101-01    	| INSERT 语句                                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E101-03    	| 搜索的 UPDATE 语句                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E101-04    	| 搜索的 DELETE 语句                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E111**   	| **单行 SELECT 语句**                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E121**   	| **基本游标支持**                                                                                                 	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E121-01    	| DECLARE CURSOR                                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-02    	| ORDER BY 列不需要在选择列表中                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E121-03    	| ORDER BY 子句中的值表达式                                                                                     	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E121-04    	| OPEN 语句                                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-06    	| 定位的 UPDATE 语句                                                                                              	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-07    	| 定位的 DELETE 语句                                                                                              	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-08    	| CLOSE 语句                                                                                                          	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-10    	| FETCH 语句: 隐式 NEXT                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| E121-17    	| WITH HOLD 游标                                                                                                        	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E131**   	| **Null 值支持（用 null 代替值）**                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E141**   	| **基本完整性约束**                                                                                          	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-01    	| NOT NULL 约束                                                                                                     	| <span class="text-blue">Yes</span>        	| Databend 中的默认设置：所有列都可为空。                                                	|
| E141-02    	| NOT NULL 列的 UNIQUE 约束                                                                                    	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-03    	| PRIMARY KEY 约束                                                                                                  	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-04    	| 基本 FOREIGN KEY 约束，对于引用删除操作和引用更新操作，默认值为 NO ACTION 	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-06    	| CHECK 约束                                                                                                         	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-07    	| 列默认值                                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| E141-08    	| 在 PRIMARY KEY 上推断 NOT NULL                                                                                         	| <span class="text-red">No</span>         	|                                                                                                              	|
| E141-10    	| 外键中的名称可以按任何顺序指定                                                                     	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E151**   	| **事务支持**                                                                                                  	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| E151-01    	| COMMIT 语句                                                                                                         	| <span class="text-orange">Partial</span>    	| Databend 仅支持每个单独 DML 语句的隐式事务。                             	|
| E151-02    	| ROLLBACK 语句                                                                                                       	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E152**   	| **基本 SET TRANSACTION 语句**                                                                                      	| <span class="text-red">No</span>         	|                                                                                                              	|
| E152-01    	| SET TRANSACTION 语句: ISOLATION LEVEL SERIALIZABLE 子句                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| E152-02    	| SET TRANSACTION 语句: READ ONLY 和 READ WRITE 子句                                                              	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E153**   	| **带有子查询的可更新查询**                                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E161**   	| **使用前导双减号的 SQL 注释**                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **E171**   	| **SQLSTATE 支持**                                                                                                     	| <span class="text-red">No</span>         	|                                                                                                              	|
| **E182**   	| **宿主语言绑定**                                                                                                	| <span class="text-red">No</span>         	|                                                                                                              	|
| **F031**   	| **基本模式操作**                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F031-01    	| 用于创建持久基本表的 CREATE TABLE 语句                                                                  	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F031-02    	| CREATE VIEW 语句                                                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F031-03    	| GRANT 语句                                                                                                          	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| F031-04    	| ALTER TABLE 语句: ADD COLUMN 子句                                                                                 	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F031-13    	| DROP TABLE 语句: RESTRICT 子句                                                                                    	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| F031-16    	| DROP VIEW 语句: RESTRICT 子句                                                                                     	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| F031-19    	| REVOKE 语句: RESTRICT 子句                                                                                        	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| **F041**   	| **基本连接表**                                                                                                   	| <span class="text-blue">Yes</span>           	|                                                                                                              	|
| F041-01    	| 内连接（但不一定是 INNER 关键字）                                                                       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-02    	| INNER 关键字                                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-03    	| LEFT OUTER JOIN                                                                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-04    	| RIGHT OUTER JOIN                                                                                                         	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-05    	| 可以嵌套外连接                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-07    	| 左外连接或右外连接中的内部表也可以在内连接中使用                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F041-08    	| 支持所有比较运算符（而不仅仅是 =）                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F051**   	| **基本日期和时间**                                                                                                  	|  <span class="text-orange">Partial</span>          	|                                                                                                              	|
| F051-01    	| DATE 数据类型（包括对 DATE 字面量的支持）                                                                       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-02    	| TIME 数据类型（包括对 TIME 字面量的支持），小数秒精度至少为 0                       	| <span class="text-red">No</span>         	|                                                                                                              	|
| F051-03    	| TIMESTAMP 数据类型（包括对 TIMESTAMP 字面量的支持），小数秒精度至少为 0 和 6       	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-04    	| DATE、TIME 和 TIMESTAMP 数据类型上的比较谓词                                                             	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-05    	| datetime 类型和字符串类型之间的显式 CAST                                                          	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-06    	| CURRENT_DATE                                                                                                             	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-07    	| LOCALTIME                                                                                                                	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F051-08    	| LOCALTIMESTAMP                                                                                                           	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F081**   	| **视图中的 UNION 和 EXCEPT**                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F131**   	| **分组操作**                                                                                                   	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F131-01    	| 在具有分组视图的查询中支持 WHERE、GROUP BY 和 HAVING 子句                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F131-02    	| 在具有分组视图的查询中支持多个表                                                                  	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F131-03    	| 在具有分组视图的查询中支持集合函数                                                                    	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F131-04    	| 带有 GROUP BY 和 HAVING 子句以及分组视图的子查询                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F131-05    	| 带有 GROUP BY 和 HAVING 子句以及分组视图的单行 SELECT                                                     	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F181**   	| **多模块支持**                                                                                              	| <span class="text-red">No</span>         	|                                                                                                              	|
| **F201**   	| **CAST 函数**                                                                                                        	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F221**   	| **显式默认值**                                                                                                    	| <span class="text-red">No</span>         	|                                                                                                              	|
| **F261**   	| **CASE 表达式**                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F261-01    	| 简单 CASE                                                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F261-02    	| 搜索的 CASE                                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F261-03    	| NULLIF                                                                                                                   	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F261-04    	| COALESCE                                                                                                                 	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F311**   	| **模式定义语句**                                                                                          	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| F311-01    	| CREATE SCHEMA                                                                                                            	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F311-02    	| 用于持久基本表的 CREATE TABLE                                                                                  	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F311-03    	| CREATE VIEW                                                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| F311-04    	| CREATE VIEW: WITH CHECK OPTION                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| F311-05    	| GRANT 语句                                                                                                          	| <span class="text-orange">Partial</span>    	|                                                                                                              	|
| **F471**   	| **标量子查询值**                                                                                               	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F481**   	| **扩展的 NULL 谓词**                                                                                              	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| **F812**   	| **基本标记**                                                                                                       	| <span class="text-red">No</span>         	|                                                                                                              	|
| **S011**   	| **不同的数据类型**                                                                                                  	| <span class="text-red">No</span>         	|                                                                                                              	|
| **T321**   	| **基本 SQL 调用例程**                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| T321-01    	| 没有重载的用户定义函数                                                                               	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| T321-02    	| 没有重载的用户定义存储过程                                                                       	| <span class="text-red">No</span>         	|                                                                                                              	|
| T321-03    	| 函数调用                                                                                                      	| <span class="text-blue">Yes</span>        	|                                                                                                              	|
| T321-04    	| CALL 语句                                                                                                           	| <span class="text-red">No</span>         	|                                                                                                              	|
| T321-05    	| RETURN 语句                                                                                                         	| <span class="text-red">No</span>         	|                                                                                                              	|
| **T631**   	| **具有一个列表元素的 IN 谓词**                                                                                   	| <span class="text-blue">Yes</span>        	|                                                                                                              	|