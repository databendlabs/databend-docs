---
title: TRY_TO_TIMESTAMP
---
import FunctionDescription from '@site/src/components/FunctionDescription';

<FunctionDescription description="引入或更新：v1.2.528"/>

Databend中[TO_TIMESTAMP](to-timestamp.md)的一个变体，它在将输入表达式转换为时间戳的同时，通过在转换失败时返回NULL而不是引发错误来支持错误处理。

另请参阅：[TO_TIMESTAMP](to-timestamp.md)

## 语法

```sql
-- 将字符串或整数转换为时间戳
TRY_TO_TIMESTAMP(<expr>)

-- 使用给定的模式将字符串转换为时间戳
TRY_TO_TIMESTAMP(<expr>, <pattern>)
```

如果给定两个参数，该函数根据第二个字符串中指定的模式将第一个字符串转换为时间戳。要指定模式，请使用说明符。说明符允许您定义日期和时间值的所需格式。有关支持的说明符的完整列表，请参阅[日期和时间格式化](../../00-sql-reference/10-data-types/20-data-type-time-date-types.md#formatting-date-and-time)。

## 别名

- [TRY_TO_DATETIME](try-to-datetime.md)

## 示例

```sql
SELECT TRY_TO_TIMESTAMP('2022-01-02 02:00:11'), TRY_TO_DATETIME('2022-01-02 02:00:11');

┌──────────────────────────────────────────────────────────────────────────────────┐
│ try_to_timestamp('2022-01-02 02:00:11') │ try_to_datetime('2022-01-02 02:00:11') │
├─────────────────────────────────────────┼────────────────────────────────────────┤
│ 2022-01-02 02:00:11                     │ 2022-01-02 02:00:11                    │
└──────────────────────────────────────────────────────────────────────────────────┘

SELECT TRY_TO_TIMESTAMP('2024-06-12 10:21:39', '%Y-%m-%d %H:%M:%S'), TRY_TO_DATETIME('2024-06-12 10:21:39', '%Y-%m-%d %H:%M:%S');

┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ try_to_timestamp('2024-06-12 10:21:39', '%y-%m-%d %h:%m:%s') │ try_to_datetime('2024-06-12 10:21:39', '%y-%m-%d %h:%m:%s') │
├──────────────────────────────────────────────────────────────┼─────────────────────────────────────────────────────────────┤
│ 2024-06-12 10:21:39                                          │ 2024-06-12 10:21:39                                         │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

SELECT TRY_TO_TIMESTAMP('databend'), TRY_TO_DATETIME('databend');

┌────────────────────────────────────────────────────────────┐
│ try_to_timestamp('databend') │ try_to_datetime('databend') │
├──────────────────────────────┼─────────────────────────────┤
│ NULL                         │ NULL                        │
└────────────────────────────────────────────────────────────┘

SELECT TRY_TO_TIMESTAMP('2024-06-12 10:21:39', '%y-%m-%d %H:%M:%S'), TRY_TO_DATETIME('2024-06-12 10:21:39', '%y-%m-%d %H:%M:%S');

┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ try_to_timestamp('2024-06-12 10:21:39', '%y-%m-%d %h:%m:%s') │ try_to_datetime('2024-06-12 10:21:39', '%y-%m-%d %h:%m:%s') │
├──────────────────────────────────────────────────────────────┼─────────────────────────────────────────────────────────────┤
│ NULL                                                         │ NULL                                                        │
└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
```